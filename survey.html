<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I-sland Party ì‹ ì²­ì„œ</title>
    <link rel="stylesheet" href="survey.css">
</head>
<body>
    <div class="survey-container">
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        
        <div class="step-counter">
            <span id="currentStep">1</span> / 6
        </div>

        <!-- ë‹¨ê³„ 1: ì„±í•¨ -->
        <div class="survey-step active" id="step1">
            <h2>ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</h2>
            <div class="input-container">
                <input type="text" id="userName" placeholder="í™ê¸¸ë™">
                <button class="next-btn" id="nameNext">ë‹¤ìŒ</button>
            </div>
        </div>

        <!-- ë‹¨ê³„ 2: ì„±ë³„ -->
        <div class="survey-step" id="step2">
            <h2>ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
            <div class="options-container">
                <button class="option-btn" data-value="ë‚¨ì„±">ë‚¨ì„±</button>
                <button class="option-btn" data-value="ì—¬ì„±">ì—¬ì„±</button>
            </div>
        </div>

        <!-- ë‹¨ê³„ 3: ë…„ìƒ -->
        <div class="survey-step" id="step3">
            <h2>íƒœì–´ë‚œ ë…„ë„ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h2>
            <div class="input-container">
                <input type="number" id="birthYear" placeholder="ì˜ˆ: 1995" min="1980" max="2010">
                <div class="button-container">
                    <button class="back-btn" id="yearBack">ì´ì „</button>
                    <button class="next-btn" id="yearNext">ë‹¤ìŒ</button>
                </div>
            </div>
        </div>

        <!-- ë‹¨ê³„ 4: ì—°ë½ì²˜ -->
        <div class="survey-step" id="step4">
            <h2>ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h2>
            <div class="input-container">
                <input type="tel" id="phoneNumber" placeholder="010-1234-5678">
                <div class="button-container">
                    <button class="back-btn" id="phoneBack">ì´ì „</button>
                    <button class="next-btn" id="phoneNext">ë‹¤ìŒ</button>
                </div>
            </div>
        </div>

        <!-- ë‹¨ê³„ 5: MBTI -->
        <div class="survey-step" id="step5">
            <h2>MBTIë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
            <div class="mbti-container">
                <div class="mbti-group">
                    <h3>ë¶„ì„ê°€í˜• (NT)</h3>
                    <div class="mbti-options">
                        <button class="mbti-btn" data-value="INTJ">INTJ - ê±´ì¶•ê°€</button>
                        <button class="mbti-btn" data-value="INTP">INTP - ë…¼ë¦¬ìˆ ì‚¬</button>
                        <button class="mbti-btn" data-value="ENTJ">ENTJ - í†µì†”ì</button>
                        <button class="mbti-btn" data-value="ENTP">ENTP - ë³€ë¡ ê°€</button>
                    </div>
                </div>
                
                <div class="mbti-group">
                    <h3>ì™¸êµê´€í˜• (NF)</h3>
                    <div class="mbti-options">
                        <button class="mbti-btn" data-value="INFJ">INFJ - ì˜¹í˜¸ì</button>
                        <button class="mbti-btn" data-value="INFP">INFP - ì¤‘ì¬ì</button>
                        <button class="mbti-btn" data-value="ENFJ">ENFJ - ì„ ë„ì</button>
                        <button class="mbti-btn" data-value="ENFP">ENFP - í™œë™ê°€</button>
                    </div>
                </div>
                
                <div class="mbti-group">
                    <h3>ê´€ë¦¬ìí˜• (SJ)</h3>
                    <div class="mbti-options">
                        <button class="mbti-btn" data-value="ISTJ">ISTJ - í˜„ì‹¤ì£¼ì˜ì</button>
                        <button class="mbti-btn" data-value="ISFJ">ISFJ - ìˆ˜í˜¸ì</button>
                        <button class="mbti-btn" data-value="ESTJ">ESTJ - ê²½ì˜ì</button>
                        <button class="mbti-btn" data-value="ESFJ">ESFJ - ì§‘ì •ê´€</button>
                    </div>
                </div>
                
                <div class="mbti-group">
                    <h3>íƒí—˜ê°€í˜• (SP)</h3>
                    <div class="mbti-options">
                        <button class="mbti-btn" data-value="ISTP">ISTP - ë§ŒëŠ¥ì¬ì£¼ê¾¼</button>
                        <button class="mbti-btn" data-value="ISFP">ISFP - ëª¨í—˜ê°€</button>
                        <button class="mbti-btn" data-value="ESTP">ESTP - ì‚¬ì—…ê°€</button>
                        <button class="mbti-btn" data-value="ESFP">ESFP - ì—°ì˜ˆì¸</button>
                    </div>
                </div>
                
                <div class="button-container" id="mbtiButtons" style="display: none;">
                    <button class="back-btn" id="mbtiBack">ì´ì „</button>
                    <button class="next-btn" id="mbtiNext">ë‹¤ìŒ</button>
                </div>
            </div>
        </div>

        <!-- ë‹¨ê³„ 6: ì¸ìŠ¤íƒ€ ì•„ì´ë”” -->
        <div class="survey-step" id="step6">
            <h2>ì¸ìŠ¤íƒ€ê·¸ë¨ ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h2>
            <div class="input-container">
                <span class="instagram-prefix">@</span>
                <input type="text" id="instagram" placeholder="instagram_id">
                <div class="button-container">
                    <button class="back-btn" id="instaBack">ì´ì „</button>
                    <button class="next-btn" id="instaNext">ì™„ë£Œ</button>
                </div>
            </div>
        </div>

        <!-- ì™„ë£Œ ë‹¨ê³„ -->
        <div class="survey-step" id="stepComplete">
            <div class="completion-message">
                <h2>âœ… ì‹ ì²­ ì™„ë£Œ!</h2>
                <p>ì‹ ì²­í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.<br>
                ì œì¶œí•´ì£¼ì‹  ì •ë³´ í•˜ë£¨ì•ˆì— ê²€í†  í›„ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.<br>
                ì°¸ê°€ì‹œ í•˜ë£¨ì „ì— ì˜¤í”ˆì±„íŒ…ë°©ì— ì´ˆëŒ€ë©ë‹ˆë‹¤.<br>
                <strong>I-sland Party ğŸ’•</strong></p>
            </div>
            <button class="home-btn" onclick="window.location.href='index.html'">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js';
        import { getFirestore, collection, addDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js';
        import { getStorage, ref, uploadBytes, getDownloadURL } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-storage.js';

        // Firebase ì„¤ì •
        const firebaseConfig = {
            apiKey: "AIzaSyDrp3OB-Po5KHca3pDVAxZOYv4lBl5gHdo",
            authDomain: "island-party-survey.firebaseapp.com",
            projectId: "island-party-survey",
            storageBucket: "island-party-survey.firebasestorage.app",
            messagingSenderId: "186364772506",
            appId: "1:186364772506:web:570f9a063828d83e301f23",
            measurementId: "G-MK6XKC46X7"
        };

        // Firebase ì´ˆê¸°í™”
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const storage = getStorage(app);

        // ì „ì—­ ë³€ìˆ˜ë¡œ ì„¤ì •í•˜ì—¬ survey.jsì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡
        window.firebaseDB = db;
        window.firebaseStorage = storage;
        window.firebaseAddDoc = addDoc;
        window.firebaseCollection = collection;
        window.firebaseServerTimestamp = serverTimestamp;
        window.firebaseRef = ref;
        window.firebaseUploadBytes = uploadBytes;
        window.firebaseGetDownloadURL = getDownloadURL;
    </script>
    <script src="survey.js"></script>
</body>
</html>
